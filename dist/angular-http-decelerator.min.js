/*! angular-http-decelerator 26-10-2014 */
(function(e,t,r){r.module("httpDecelerator.config",[]).value("httpDeceleratorConfig",{debug:!0}),r.module("httpDecelerator.services",[]),r.module("httpDecelerator",["httpDecelerator.config","httpDecelerator.services"]),r.module("httpDecelerator.services").provider("httpDecelerator",[function(){var e={deceleration:1e3,route:""};self=this,skipDeceleration=function(t){return t&&t.url?-1===t.url.search(e.route)?(console.log("skipDeceleration: "+t.url+"doesn't contain "+e.route),!0):!1:!0},this.deceleration=function(t){return r.isDefined(t)?(e.deceleration=t,this):e.deceleration},this.route=function(t){return r.isDefined(t)?(e.route=t,this):e.route},this.decelerate=function(e){var t=""+this.deceleration(),r=0;return-1!==t.indexOf("%")?(r=parseInt(t.split("%")[0],10),Math.round(e*r/100)):-1!==t.indexOf("ms")?parseInt(t.split("ms")[0],10):parseInt(t,10)},this.$get=function(e,t,r){function n(){return{request:function(e){return skipDeceleration(e)?e:(t.log("HttpDecelerator request"),e.start=new Date,e)},response:function(e){return skipDeceleration(e.config)?e:(console.dir(e),e.config.end=new Date,e.config.time=e.config.end-e.config.start,t.log("HttpDecelerator: decelerate response from "+e.config.url+" by "+self.decelerate(e.config.time)+"ms"),r(function(){return e},self.decelerate(e.config.time)))},responseError:function(n){return skipDeceleration(n.config)?n:(t.log("HttpDecelerator: decelerate response error by "+self.deceleration()+"ms"),console.dir(n),r(function(){return e.reject(n)},self.decelerate(n.config.time)))}}}return function(e,t){return self.deceleration(e),self.route(t),new n}},this.$get.$inject=["$q","$log","$timeout"]}])})(window,document,angular);